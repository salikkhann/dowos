# Session 6 — Pricing strategy lock + Progress Matrix spec + doc sync

**Date:** 2026-02-05
**Picks up from:** Session 5 (education tab rewrite, marketing plan, roadmap restructure)

---

## What happened this session

### 1. Git housekeeping (early session)
- Staged + committed the `plan_docs/` → `redundant_docs/` rename that git hadn't tracked (205ff68)
- Merged `feature/day4-maps-decision` → `main` with `--no-ff` (ec61887) — the 15 commits on the feature branch were invisible on main
- Taught git branch model end-to-end

### 2. CLAUDE.md accuracy fix (8260a3b)
- Found and fixed 3 stale entries that would have caused Cursor to generate wrong code:
  - Maps: "Google Maps JS SDK" → MapLibre GL JS + PMTiles
  - Speech: "OpenAI Whisper" → Groq Whisper Large v3 Turbo
  - Folder tree: `community/` → `campus/`

### 3. Todo + cursorrules hardening (7ba01ca)
- Rewrote `todo-current.md`: Phase 1 fully ticked, prayer tasks added (5D 10 tasks, 5E 4 tasks, 2A install, 2C widget, POI pin, offline QA, seed tasks)
- Rewrote `.cursorrules` with: full route map tree, Prayer Times section, 18 NEVER rules, 14-item checklist
- Synced `windsurf-rules.md`

### 4. Marketing doc rewrite (bc654d1)
- Full rewrite of `marketing-launch.md`: team ownership (Salik + Ammaar), logo brief (3 concepts, Concept A recommended), 13-day feature series (Mar 15–27, one post per feature with post type + hook + caption + visual notes)

### 5. Competitor shade + cursorrules gaps (e246333)
- MedAngle shade woven into 5 marketing touchpoints (never named — referenced by facts: past papers only, PKR 5000, buggy, crashes)
- Filled 6 critical cursorrules gaps: adhan not-installed warning, Capacitor note, Auth & Middleware section, Import paths table, NavShell tree, State architecture, Env vars table
- Synced `windsurf-rules.md`

### 6. Pricing strategy (this session's main work)
- Used `pricing-strategy` + `product-manager-toolkit` skills
- Asked 4 structured questions, got answers:
  - AI Tutor free limit → 5 soft / 6 hard per day
  - Viva Bot taste → 1 free session, then Pro
  - Future Pro features → user asked for suggestions
  - Exam season pricing → PKR 1 500 / 3 months pass
- Presented full strategy. User feedback:
  - ✓ Offline download stays in Pro
  - ✗ "AI deep explanation" rejected — replaced with "Ask AI →" button (Free for all, opens AI Tutor with question pre-loaded)
  - Conversion trigger #3 (explanation paywall) removed — replaced by natural AI daily cap trigger

### 7. Progress Matrix spec + AI Study Plan (this session)
- User asked to understand Progress Matrix and what to add
- Read `education-tab.md` — current spec was thin (heatmap only, MCQ-fed only)
- Proposed additions in 3 tiers. User approved: all Tier A + Tier B + AI Study Plan move into Phase 1
- Specced out full Progress Matrix in `education-tab.md` §6:
  - §6.1 Heatmap grid (modules × subjects)
  - §6.2 Colour legend (Strong / Progressing / Needs Work / Not Attempted)
  - §6.3 Attempt count badge per cell
  - §6.4 Multi-source feed (MCQ full weight, Browse Q&A low weight "touched", Viva Bot full weight)
  - §6.5 Tap-to-drill-down (stats panel + trend arrow + drill CTA)
  - §6.6 Top 3 Weak Topics auto-detection
  - §6.7 Exam Readiness score per module
  - §6.8 AI Study Plan — Pro-gated, Gemini-backed weekly plan
- Added §5.5 "Ask AI →" button spec to MCQ section

### 8. Doc sync — all docs updated in one pass
- `education-tab.md`: new §5.5 + §6 (Progress Matrix full spec), build schedule updated (Day 18–19 + Day 20)
- `todo-current.md`: Phase 3A ("Ask AI →" task), Phase 3B (rate limit 5/6), Phase 4A (1-free-session taste), Phase 4C (full Progress Matrix + AI Study Plan + Saved Qs 20-cap tasks), Phase 6 (updated audit checklist)
- `.cursorrules` Convention #12: rate limits, Ask AI, Viva taste, Saved cap, AI Study Plan
- `windsurf-rules.md`: synced with `.cursorrules` Convention #12
- `marketing-launch.md`: Mar 19 Progress Matrix carousel (5→6 slides with new features), Mar 26 Pro carousel Slide 4 (full Pro feature list)
- `CLAUDE.md`: Free tier description, Pro tier description + exam-season pass, AI rate-limiting table (5 rows)

---

## Commits this session

| Hash | What |
|---|---|
| `205ff68` | plan_docs → redundant_docs rename |
| `ec61887` | Merge feature/day4-maps-decision → main (--no-ff) |
| `8260a3b` | CLAUDE.md stale entry fixes (Maps, Speech, folder tree) |
| `7ba01ca` | Todo rewrite + cursorrules hardening + windsurf sync |
| `bc654d1` | Marketing doc rewrite (team, logo brief, 13-day series) |
| `e246333` | MedAngle shade + cursorrules gaps + windsurf sync |
| `[next]` | Progress Matrix spec + pricing strategy lock + doc sync (this commit) |

---

## Files touched this session

| File | Change |
|---|---|
| `docs/decisions/education-tab.md` | New §5.5 (Ask AI → button) + §6 (Progress Matrix full spec, 8 subsections). Build schedule Day 18–19 + Day 20 updated. |
| `docs/todo-current.md` | Phase 3A: Ask AI task. Phase 3B: rate limit 5/6. Phase 4A: 1-free-session. Phase 4C: full Progress Matrix + AI Study Plan + Saved cap. Phase 6: audit update. |
| `.cursorrules` | Convention #12 rewritten: rate limits, Ask AI, Viva taste, Saved cap, AI Study Plan |
| `docs/windsurf-rules.md` | Convention #12 synced |
| `docs/marketing-launch.md` | Mar 19 carousel (6 slides), Mar 26 Pro carousel Slide 4 |
| `CLAUDE.md` | Free + Pro tier descriptions, rate-limiting table (5 rows) |
| `docs/sessions/2026-02-05-session-6.md` | NEW — this file |

---

## State of the project

- **Pricing strategy locked.** Free vs Pro tiers fully specced with 4 conversion triggers. Rate limits: 5 soft / 6 hard AI msgs. Viva taste: 1 free session. Saved Qs: 20 cap. AI Study Plan: Pro-only.
- **Progress Matrix fully specced.** 8-section spec in education-tab.md. Tasks in todo Phase 4C. All Tier A + B features + AI Study Plan ship in Phase 1.
- **"Ask AI →" button specced.** In §5.5 of education-tab.md. Task in Phase 3A todo. Free for all — uses AI daily cap as natural conversion trigger.
- **All docs in sync.** .cursorrules, windsurf-rules, marketing, CLAUDE.md, todo, decision doc — all reflect the locked strategy.

---

## What comes next

- **Coding starts.** Phase 2A: install Sentry + Resend + adhan + hijri-converter. NavShell first.
- **Day 17–19:** MCQ Solver build — include "Ask AI →" button from the start.
- **Day 20:** Progress Matrix page — full spec (heatmap + badges + multi-source + weak topics + readiness + AI Study Plan).
- **Day 24–27:** Viva Bot — 1-free-session taste flow.
- **Mar 7:** Instagram teasers begin.
